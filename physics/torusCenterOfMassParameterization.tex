%
% Copyright © 2012 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
\imageFigure{../figures/gabook/toriodalSegment}{Toroidal parametrization}{fig:toriodalSegment}{0.5}

The geometry for a toroidal configuration with two angles, and a radial distance is illustrated in \cref{fig:toriodalSegment}.

The position vector to a point within the torus can be stated directly

\begin{subequations}
\begin{align}\label{eqn:torusCenterOfMass:1}
\Bx(\rho, \theta, \phi) &= e^{-j\theta/2} \left( \rho \Be_1 e^{ i \phi } + R \Be_3 \right) e^{j \theta/2} \\
i &= \Be_1 \Be_3 \\
j &= \Be_3 \Be_2
\end{align}
\end{subequations}

It happens that the unit bivectors \(i\) and \(j\) used in this construction happen 
to have the 
quaternion-ic properties \(i j = -j i\), and \(i^2 = j^2 = -1\) which can be verified easily.

After some regrouping the curvilinear basis is found to be

\begin{subequations}
\begin{align}\label{eqn:torusCenterOfMass:3}
\Bx_\rho &= \PD{\rho}{\Bx} = e^{-j\theta/2} \Be_1 e^{ i \phi } e^{j \theta/2} \\
\Bx_\theta &= \PD{\theta}{\Bx}
%&= e^{-j\theta/2} \left( \rho \inv{2} \left( -\Be_3 \Be_2 \Be_1 e^{ i \phi } + \Be_1 e^{ i \phi } \Be_3 \Be_2 \right) + R \Be_2 \right) e^{j \theta/2} \\
= e^{-j\theta/2} \left( R + \rho \sin\phi \right) \Be_2 e^{j \theta/2} \\
\Bx_\phi &= \PD{\phi}{\Bx} = e^{-j\theta/2} \rho \Be_3 e^{ i \phi } e^{j \theta/2}.
\end{align}
\end{subequations}

The oriented 
volume element can be computed using a trivector selection operation, which conveniently wipes out a number of the interior exponentials

\begin{align}\label{eqn:torusCenterOfMass:4}
\PD{\rho}{\Bx} \wedge \PD{\theta}{\Bx} \wedge \PD{\phi}{\Bx}
&=
\rho \left( R + \rho \sin\phi \right) \gpgradethree{ e^{-j\theta/2} \Be_1 e^{ i \phi } \Be_2 \Be_3 e^{ i \phi } e^{j \theta/2} }
\end{align}

Note that \(\Be_1\) commutes with \(j = \Be_3 \Be_2\), so also with \(e^{-j\theta/2}\).  Also \(\Be_2 \Be_3 = -j\) anticommutes with \(i\), so 
there is a conjugate commutation effect \(e^{i\phi} j = j e^{-i\phi}\).  Together the trivector grade selection reduces almost magically to just

\begin{align}\label{eqn:torusCenterOfMass:5}
\PD{\rho}{\Bx} \wedge \PD{\theta}{\Bx} \wedge \PD{\phi}{\Bx}
&=
\rho \left( R + \rho \sin\phi \right) \Be_1 \Be_2 \Be_3
\end{align}

Thus the (scalar) volume element is

\begin{align}\label{eqn:torusCenterOfMass:6}
dV = \rho \left( R + \rho \sin\phi \right) d\rho d\theta d\phi.
\end{align}

As a check, it should be the case that the 
volume of the complete torus using this volume element has the 
expected \(V = (2 \pi R) (\pi r^2)\) value.

That volume is

\begin{align}\label{eqn:torusCenterOfMass:7}
V = \int_{\rho=0}^r \int_{\theta=0}^{2\pi} \int_{\phi=0}^{2\pi} \rho \left( R + \rho \sin\phi \right) d\rho d\theta d\phi.
\end{align}

The sine term conveniently vanishes over the \(2\pi\) interval, leaving just
\begin{align}\label{eqn:torusCenterOfMass:8}
V = \inv{2} r^2 R (2 \pi)(2 \pi),
\end{align}

as expected.
