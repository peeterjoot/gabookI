%
% Copyright © 2016 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
%{
%\input{../blogpost.tex}
%\renewcommand{\basename}{biotSavartGreens}
%%\renewcommand{\dirname}{notes/phy1520/}
%\renewcommand{\dirname}{notes/ece1228-electromagnetic-theory/}
%%\newcommand{\dateintitle}{}
%%\newcommand{\keywords}{}
%
%\input{../peeter_prologue_print2.tex}
%
%\usepackage{peeters_layout_exercise}
%\usepackage{peeters_braket}
%\usepackage{peeters_figures}
%\usepackage{siunitx}
%
%\beginArtNoToc
%
%\generatetitle{Green's function inversion of magnetostatic equation}
%\chapter{Green's function inversion of magnetostatic equation}
%\label{chap:biotSavartGreens}
% \citep{sakurai2014modern} pr X.Y
% \citep{pozar2009microwave}
% \citep{qftLectureNotes}
% \citep{doran2003gap}
% \citep{jackson1975cew}
% \citep{griffiths1999introduction}
\makeexample{Magnetostatics.}{example:biotSavartGreens:1}{
The magnetostatics equation in linear media has the Geometric Algebra form
%A previous example of inverting a gradient equation was the electrostatics equation.  We can do the same for the magnetostatics equation, which has the following Geometric Algebra form in linear media
\begin{equation}\label{eqn:biotSavartGreens:20}
\spacegrad I \BB = - \mu \BJ.
\end{equation}

The Green's inversion of this is
\begin{equation}\label{eqn:biotSavartGreens:40}
\begin{aligned}
I \BB(\Bx)
&= \int_V dV' G(\Bx, \Bx') \spacegrad' I \BB(\Bx') \\
&= \gpgradeone{ \int_V dV' G(\Bx, \Bx') \spacegrad' I \BB(\Bx') } \\
&= \int_V dV' \gpgradeone{ G(\Bx, \Bx') (-\mu \BJ(\Bx')) } \\
&= \inv{4\pi} \int_V dV' \frac{\Bx - \Bx'}{ \Abs{\Bx - \Bx'}^3 } \wedge (-\mu \BJ(\Bx')) \\
&= \frac{\mu}{4\pi} \int_V dV' \BJ(\Bx') \wedge \frac{\Bx - \Bx'}{ \Abs{\Bx - \Bx'}^3 }.
\end{aligned}
\end{equation}
A duality transformation can be used to obtain the usual cross product form of the Biot-Savart law if desired.

Note that freedom to insert a no-op vector grade selection was utilized to simplify the calculation above.
It can be demonstrated that the scalar component of this integral is explicitly zero with some of the usual trickery
\begin{equation}\label{eqn:biotSavartGreens:60}
\begin{aligned}
-\frac{\mu}{4\pi} \int_V dV' \frac{\Bx - \Bx'}{ \Abs{\Bx - \Bx'}^3 } \cdot \BJ(\Bx')
&= \frac{\mu}{4\pi} \int_V dV' \lr{ \spacegrad \inv{ \Abs{\Bx - \Bx'} }} \cdot \BJ(\Bx') \\
&= -\frac{\mu}{4\pi} \int_V dV' \lr{ \spacegrad' \inv{ \Abs{\Bx - \Bx'} }} \cdot \BJ(\Bx') \\
&= -\frac{\mu}{4\pi} \int_V dV' \lr{
\spacegrad' \cdot \frac{\BJ(\Bx')}{ \Abs{\Bx - \Bx'} }
-
\frac{\spacegrad' \cdot \BJ(\Bx')}{ \Abs{\Bx - \Bx'} }
}.
\end{aligned}
\end{equation}

By premultiplying \cref{eqn:biotSavartGreens:20} by the gradient, we have
\begin{equation}\label{eqn:biotSavartGreens:80}
\spacegrad^2 I \BB = -\mu \spacegrad \BJ,
\end{equation}
showing that the current \( \BJ \) is not unconstrained.  In particular, since
the LHS is a bivector, the gradient of the current must also be a bivector
\( \spacegrad \BJ = \spacegrad \wedge \BJ \),
or equivalently the divergence of the current must be zero 
\( \spacegrad \cdot \BJ = 0 \).  This kills the \( \spacegrad' \cdot \BJ(\Bx') \) integrand numerator in \cref{eqn:biotSavartGreens:60}, leaving
\begin{equation}\label{eqn:biotSavartGreens:100}
\begin{aligned}
-\frac{\mu}{4\pi} \int_V dV' \frac{\Bx - \Bx'}{ \Abs{\Bx - \Bx'}^3 } \cdot \BJ(\Bx')
&= -\frac{\mu}{4\pi} \int_V dV' \spacegrad' \cdot \frac{\BJ(\Bx')}{ \Abs{\Bx - \Bx'} } \\
&= -\frac{\mu}{4\pi} \int_{\partial V} dA' \ncap \cdot \frac{\BJ(\Bx')}{ \Abs{\Bx - \Bx'} }.
\end{aligned}
\end{equation}

Provided the normal component of \( \BJ/\Abs{\Bx - \Bx'} \) vanishes on the boundary of the infinite sphere, we see that the 
the scalar selection of the convolution integral is zero, justifying the vector selection operation.
%Observe that the traditional vector form of the Biot-Savart law can be obtained by premultiplying both sides with \( -I \), leaving
%
%\begin{equation}\label{eqn:biotSavartGreens:140}
%\BB(\Bx)
%= \frac{\mu}{4\pi} \int_V dV' \BJ(\Bx') \cross \frac{\Bx - \Bx'}{ \Abs{\Bx - \Bx'}^3 }.
%\end{equation}
%
%This checks against a trusted source such as \citep{griffiths1999introduction} (eq. 5.39).
} % example
%}
%\EndArticle
